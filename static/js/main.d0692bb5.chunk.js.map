{"version":3,"sources":["ui.tsx","icons/pin.svg","Map.tsx","Table.tsx","interfaces.ts","truckapi.ts","icons/map.svg","icons/table.svg","icons/food.svg","App.tsx","serviceWorker.ts","index.tsx"],"names":["FoodTag","styled","span","StatusIndicator","div","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","stroke","strokeWidth","d","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","Wrapper","ControlHolder","PopupBody","useContainerSize","containerRef","useRef","useState","width","height","size","setSize","useEffect","box","current","getBoundingClientRect","measureBox","Map","trucks","mapRef","markers","filter","t","Math","abs","latitude","bounds","coords","reduce","result","cur","min","max","getBounds","map","longitude","mercator","WebMercatorViewport","window","innerWidth","innerHeight","isTall","padding","top","right","bottom","left","fitBounds","zoom","viewport","setViewport","bearing","pitch","activeId","setActiveId","activeTruck","mapStyle","onViewportChange","nextViewport","mapboxApiAccessToken","process","index","id","isActive","fillColor","iconSize","offsetTop","offsetLeft","fill","onMouseEnter","onMouseLeave","className","tipSize","anchor","closeButton","onClose","name","address","foodTypes","foodType","StyledTable","table","Table","NetworkStatus","cellSpacing","cellPadding","vehicleType","style","background","api","url","a","fetch","response","ok","Error","statusText","json","getTrucks","resp","status","toUpperCase","objectid","applicant","locationdescription","fooditems","facilitytype","location","coordinates","toLowerCase","replace","Array","from","Set","split","_ref4","Header","Button","button","disabled","Main","Footer","small","App","tab","setTab","setTrucks","EMPTY","setStatus","isLoading","LOADING","isComplete","COMPLETE","isError","ERROR","then","catch","onClick","href","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.d0692bb5.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const FoodTag = styled.span`\n  background: hsl(211.4, 37.5%, 12%);\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n  padding: 3px 5px;\n  margin: 2px;\n  display: inline-block;\n  border-radius: 3px;\n  text-transform: uppercase;\n`;\n\nexport const StatusIndicator = styled.div`\n  text-align: center;\n  height: 100%;\n  width: 100%;\n  color: rgba(0, 0, 0, 0.5);\n  display: table;\n  * {\n    display: table-cell;\n    vertical-align: middle;\n  }\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.168428, 0, 0, 0.168428, 4.635369, 6.819468)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"black\",\n  strokeWidth: 10,\n  d: \"M120.91 334.63c67.27,-51.06 120.91,-128.48 120.91,-213.72 0,-66.77 -54.13,-120.91 -120.91,-120.91 -66.77,0 -120.91,54.14 -120.91,120.91 0,85.24 53.65,162.66 120.91,213.72zm0 -271.11c31.7,0 57.4,25.69 57.4,57.39 0,31.7 -25.7,57.4 -57.4,57.4 -31.7,0 -57.39,-25.7 -57.39,-57.4 0,-31.7 25.69,-57.39 57.39,-57.39z\"\n}));\n\nvar SvgPin = function SvgPin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 50 70\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin.bf6159db.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react';\nimport MapGL, {\n  Marker,\n  Popup,\n  NavigationControl,\n  WebMercatorViewport,\n} from 'react-map-gl';\nimport styled from 'styled-components';\nimport { FoodTag } from './ui';\nimport { ITruck, ICoordsArray, IViewportSettings } from './interfaces';\nimport { ReactComponent as PinIcon } from './icons/pin.svg';\n\nconst MAPBOX_TOKEN = process.env.REACT_APP_MAPBOX_PUBLIC_TOKEN as string;\n\nconst Wrapper = styled.div`\n  overflow: hidden;\n  width: 100vw;\n  height: calc(100vh - 85px);\n  color: black;\n`;\nconst ControlHolder = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 10px;\n`;\nconst PopupBody = styled.div`\n  max-width: 300px;\n`;\nconst useContainerSize = () => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [size, setSize] = useState({ width: 0, height: 0 });\n\n  const measureBox = () => {\n    const box: any = containerRef && containerRef.current;\n    const { height = 0, width = 0 } = box ? box.getBoundingClientRect() : {};\n    return setSize({ height, width });\n  };\n\n  useEffect(() => measureBox(), []);\n\n  return [size, containerRef];\n};\n\nconst getBounds = function (coords: ICoordsArray) {\n  return coords.reduce(\n    (result, cur) => {\n      return [\n        [Math.min(result[0][0], cur[0]), Math.min(result[0][1], cur[1])],\n        [Math.max(result[1][0], cur[0]), Math.max(result[1][1], cur[1])],\n      ];\n    },\n    [\n      [coords[0][0], coords[0][1]], // Min long, lat\n      [coords[0][0], coords[0][1]], // Max long, lat\n    ]\n  );\n};\n\nfunction Map({ trucks }: { trucks: ITruck[] }) {\n  const [size, mapRef]: any[] = useContainerSize();\n  // Remove trucks with no coordinates\n  const markers = trucks.filter((t) => Math.abs(t.latitude) > 0);\n  const coords: ICoordsArray = markers.map((i: ITruck) => [\n    i.longitude,\n    i.latitude,\n  ]);\n  const bounds: any = getBounds(coords);\n  const mercator = new WebMercatorViewport({\n    width: size.width || window.innerWidth,\n    height: size.width || window.innerHeight,\n  });\n  const isTall = size.height > size.width;\n  const padding = {\n    top: isTall ? 0 : (size.height + 1) / 20,\n    right: 0,\n    bottom: isTall ? 0 : (size.height + 1) / 5,\n    left: 0,\n  };\n  const { longitude, latitude, zoom } = mercator.fitBounds(bounds, {\n    padding,\n  });\n\n  const [viewport, setViewport] = useState<IViewportSettings>({\n    latitude,\n    longitude,\n    zoom,\n  });\n\n  useEffect(() => {\n    setViewport({\n      latitude,\n      longitude,\n      zoom,\n      bearing: -15,\n      pitch: 45,\n    });\n  }, [latitude, longitude, zoom]);\n\n  const [activeId, setActiveId] = useState<number | null>(null);\n  const activeTruck = activeId !== null ? markers[activeId] : null;\n  return (\n    <Wrapper ref={mapRef}>\n      <MapGL\n        {...viewport}\n        width=\"100%\"\n        height=\"100%\"\n        mapStyle=\"mapbox://styles/localjo/ck93j8bdy06xi1iqu9nc4zf5o/draft\"\n        onViewportChange={(nextViewport) => {\n          setViewport(nextViewport);\n        }}\n        mapboxApiAccessToken={MAPBOX_TOKEN}\n      >\n        {markers.map(({ id, longitude, latitude }, index) => {\n          const isActive = index === activeId;\n          const fillColor = isActive ? '#900511' : '#bd3f16';\n          const iconSize = isActive ? 35 : 30;\n          return (\n            <Marker\n              key={id}\n              longitude={longitude}\n              latitude={latitude}\n              offsetTop={-35}\n              offsetLeft={-12.5}\n            >\n              <PinIcon\n                height={iconSize}\n                fill={fillColor}\n                onMouseEnter={() => setActiveId(index)}\n                onMouseLeave={() => setActiveId(null)}\n              />\n            </Marker>\n          );\n        })}\n        <ControlHolder className=\"nav\">\n          <NavigationControl\n            onViewportChange={(viewport) => setViewport(viewport)}\n          />\n        </ControlHolder>\n\n        {activeTruck && (\n          <Popup\n            tipSize={10}\n            anchor=\"top\"\n            longitude={activeTruck.longitude}\n            latitude={activeTruck.latitude}\n            closeButton={false}\n            onClose={() => setActiveId(null)}\n          >\n            <PopupBody>\n              <b>{activeTruck.name}</b>\n              <p>{activeTruck.address}</p>\n              {activeTruck.foodTypes.map((foodType, i) => (\n                <FoodTag key={foodType}>{foodType}</FoodTag>\n              ))}\n            </PopupBody>\n          </Popup>\n        )}\n      </MapGL>\n    </Wrapper>\n  );\n}\n\nexport default Map;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ITruck } from './interfaces';\nimport { FoodTag } from './ui';\n\nconst StyledTable = styled.table`\n  background: rgb(121, 207, 215);\n  position: relative;\n  color: hsl(211.4, 37.5%, 12%);\n  thead {\n    text-align: left;\n    position: sticky;\n    top: 86px;\n    left: 0;\n    right: 0;\n    color: white;\n    background: hsl(211.4, 37.5%, 12%);\n  }\n`;\n\nfunction Table({ trucks }: { trucks: ITruck[] }) {\n  return (\n    <>\n      <StyledTable cellSpacing=\"0\" cellPadding=\"10\">\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Food</th>\n            <th>Address</th>\n            <th>Type</th>\n            <th>Lat/Long</th>\n          </tr>\n        </thead>\n        <tbody>\n          {trucks.map(\n            (\n              {\n                id,\n                name,\n                latitude,\n                longitude,\n                address,\n                foodTypes,\n                vehicleType,\n              },\n              i\n            ) => {\n              return (\n                <tr\n                  key={id}\n                  style={{ background: i % 2 ? '' : 'rgba(0, 0, 0, 0.1)' }}\n                >\n                  <td>{id}</td>\n                  <td>\n                    <b>{name}</b>\n                  </td>\n                  <td>\n                    {foodTypes.map((foodType, i) => (\n                      <FoodTag key={foodType}>{foodType}</FoodTag>\n                    ))}\n                  </td>\n                  <td>{address}</td>\n                  <td>{vehicleType}</td>\n                  <td>\n                    {latitude}, {longitude}\n                  </td>\n                </tr>\n              );\n            }\n          )}\n        </tbody>\n      </StyledTable>\n    </>\n  );\n}\n\nexport default Table;\n","export enum NetworkStatus {\n  EMPTY,\n  LOADING,\n  COMPLETE,\n  ERROR,\n}\n\nexport interface ITruck {\n  id: string;\n  name: string;\n  latitude: number;\n  longitude: number;\n  address: string;\n  foodTypes: string[];\n  vehicleType: string;\n}\n\nexport interface ITruckResponse {\n  status: string;\n  objectid: string;\n  applicant: string;\n  facilitytype: string;\n  locationdescription: string;\n  fooditems: string;\n  location: { coordinates: [number, number] };\n}\n\nexport interface IViewportSettings {\n  latitude?: number;\n  longitude?: number;\n  zoom?: number;\n  bearing?: number;\n  pitch?: number;\n}\n\nexport type ICoords = [number, number];\nexport type ICoordsArray = ICoords[];\n","import { ITruckResponse, ITruck } from './interfaces';\n\nasync function api<T>(url: string): Promise<T> {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n  return response.json() as Promise<T>;\n}\n\nexport const getTrucks = async function (): Promise<ITruck[]> {\n  const resp = await api<[]>('https://data.sfgov.org/resource/rqzj-sfat.json');\n  return resp\n    .filter(({ status = '' }: ITruckResponse) => {\n      return status.toUpperCase() === 'APPROVED';\n    })\n    .map(\n      ({\n        objectid = '',\n        applicant = 'Name unknown',\n        locationdescription = 'Address unknown',\n        fooditems = '',\n        facilitytype = 'Unknown',\n        location = { coordinates: [0, 0] },\n      }: ITruckResponse) => {\n        const [longitude, latitude] = location.coordinates;\n        return {\n          id: objectid,\n          name: applicant,\n          latitude,\n          longitude,\n          address: locationdescription\n            .toLowerCase()\n            .replace(/(^|\\s)\\S/g, function (t) {\n              return t.toUpperCase();\n            }),\n          foodTypes: Array.from(\n            new Set(\n              fooditems\n                .split(':')\n                .filter((t) => !!t)\n                .map((t) => t.toLowerCase())\n            )\n          ),\n          vehicleType: facilitytype,\n        };\n      }\n    );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 60.366 22.675 L 44.384 19.787 C 44.319 19.787 44.191 19.787 44.127 19.787 C 44.063 19.787 43.934 19.787 43.87 19.787 L 28.081 22.611 L 12.291 19.787 C 12.034 19.722 11.713 19.787 11.521 19.979 C 11.328 20.172 11.2 20.428 11.2 20.749 L 11.2 54.767 C 11.2 55.217 11.521 55.602 11.97 55.73 L 27.952 58.618 C 27.952 58.618 28.016 58.618 28.016 58.618 C 28.016 58.618 28.016 58.618 28.081 58.618 L 28.081 58.618 C 28.081 58.618 28.081 58.618 28.081 58.618 C 28.081 58.618 28.081 58.618 28.081 58.618 C 28.081 58.618 28.145 58.618 28.209 58.618 L 44.127 55.73 L 60.045 58.618 C 60.109 58.618 60.173 58.618 60.237 58.618 C 60.43 58.618 60.687 58.554 60.879 58.426 C 61.072 58.233 61.2 57.977 61.2 57.656 L 61.2 23.638 C 61.136 23.124 60.815 22.739 60.366 22.675 Z M 27.054 56.436 L 12.997 53.933 L 12.997 21.84 L 27.054 24.408 L 27.054 56.436 Z M 43.036 53.933 L 29.043 56.436 L 29.043 45.589 C 29.364 45.525 29.685 45.525 30.006 45.461 C 30.52 45.332 30.841 44.819 30.776 44.305 C 30.712 43.792 30.135 43.471 29.621 43.535 C 29.428 43.599 29.236 43.599 29.043 43.663 L 29.043 24.408 L 43.036 21.84 L 43.036 53.933 Z M 59.21 56.5 L 45.154 53.933 L 45.154 38.079 C 45.218 38.143 45.282 38.143 45.346 38.143 C 45.731 38.208 46.117 38.272 46.502 38.4 C 46.63 38.4 46.694 38.464 46.758 38.464 C 47.144 38.464 47.529 38.208 47.657 37.758 C 47.785 37.245 47.529 36.731 47.015 36.539 C 46.566 36.41 46.117 36.282 45.667 36.218 C 45.475 36.218 45.282 36.218 45.09 36.282 L 45.09 21.84 L 59.21 24.408 L 59.21 56.5 Z M 50.609 40.775 C 50.224 40.454 50.16 39.812 50.481 39.427 C 50.802 39.042 51.444 38.978 51.829 39.299 C 52.471 39.876 52.856 40.262 52.856 40.262 C 53.177 40.647 53.177 41.288 52.792 41.609 C 52.599 41.802 52.407 41.866 52.15 41.866 C 51.893 41.866 51.636 41.738 51.444 41.545 C 51.444 41.545 51.123 41.16 50.609 40.775 Z M 51.187 45.974 C 51.187 47.9 52.792 49.504 54.717 49.504 C 56.643 49.504 58.247 47.9 58.247 45.974 C 58.247 44.048 56.643 42.444 54.717 42.444 C 52.792 42.444 51.187 43.984 51.187 45.974 Z M 54.717 44.369 C 55.616 44.369 56.322 45.075 56.322 45.974 C 56.322 46.873 55.616 47.579 54.717 47.579 C 53.819 47.579 53.113 46.873 53.113 45.974 C 53.113 45.075 53.883 44.369 54.717 44.369 Z M 33.536 42.893 C 33.215 42.444 33.28 41.866 33.729 41.545 C 34.05 41.288 34.371 41.032 34.627 40.775 C 35.013 40.39 35.654 40.454 35.975 40.839 C 36.36 41.224 36.296 41.866 35.911 42.187 C 35.59 42.508 35.205 42.765 34.884 43.086 C 34.692 43.214 34.499 43.278 34.307 43.278 C 34.05 43.214 33.729 43.086 33.536 42.893 Z M 20.058 38.529 C 20.314 38.529 20.571 38.4 20.764 38.208 C 21.405 37.437 24.679 33.586 24.679 31.34 C 24.679 28.772 22.561 26.719 20.058 26.719 C 17.49 26.719 15.436 28.772 15.436 31.34 C 15.436 33.65 18.71 37.502 19.351 38.208 C 19.48 38.4 19.737 38.529 20.058 38.529 Z M 20.058 28.58 C 21.534 28.58 22.753 29.799 22.753 31.276 C 22.753 32.238 21.341 34.421 20.058 36.025 C 18.774 34.357 17.362 32.238 17.362 31.276 C 17.298 29.799 18.517 28.58 20.058 28.58 Z M 38.479 38.721 C 38.222 38.272 38.414 37.694 38.864 37.437 C 39.313 37.245 39.698 37.052 40.147 36.86 C 40.661 36.667 41.174 36.924 41.367 37.437 C 41.559 37.951 41.303 38.464 40.853 38.657 C 40.468 38.785 40.147 38.978 39.762 39.17 C 39.634 39.235 39.441 39.299 39.313 39.299 C 38.992 39.235 38.671 39.042 38.479 38.721 Z M 20.058 31.789 C 19.48 31.789 19.031 31.34 19.031 30.762 C 19.031 30.185 19.48 29.735 20.058 29.735 C 20.635 29.735 21.084 30.185 21.084 30.762 C 21.02 31.34 20.571 31.789 20.058 31.789 Z M 24.422 43.984 C 24.23 44.305 23.909 44.498 23.588 44.498 C 23.459 44.498 23.267 44.434 23.138 44.369 C 22.753 44.177 22.304 43.92 21.919 43.663 C 21.47 43.342 21.341 42.765 21.662 42.315 C 21.983 41.866 22.561 41.738 23.01 42.059 C 23.331 42.251 23.716 42.508 24.037 42.636 C 24.422 42.957 24.615 43.535 24.422 43.984 Z\"\n});\n\nvar SvgMap = function SvgMap(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"11.2 19.763 50 38.855\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMap, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/map.cf2c79cf.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.107273, 0, 0, 0.107273, 15.087038, 74.622047)\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M473,396.1c-14.8,0-29.7,0-44.5,0c-35.4,0-70.9,0-106.3,0c-43,0-86,0-129.1,0c-37.1,0-74.1,0-111.2,0    c-12.3,0-24.5,0-36.8,0c-5.7,0-11.7-0.5-17.4,0c-0.2,0-0.5,0-0.8,0c3.3,3.3,6.7,6.7,10,10c0-35.2,0-70.3,0-105.5    c0-56,0-112.1,0-168.1c0-12.9,0-25.7,0-38.6c-3.3,3.3-6.7,6.7-10,10c14.8,0,29.7,0,44.5,0c35.4,0,70.9,0,106.3,0    c43,0,86,0,129.1,0c37.1,0,74.1,0,111.2,0c12.3,0,24.5,0,36.8,0c5.7,0,11.7,0.5,17.4,0c0.2,0,0.5,0,0.8,0c-3.3-3.3-6.7-6.7-10-10    c0,35.2,0,70.3,0,105.5c0,56,0,112.1,0,168.1c0,12.9,0,25.7,0,38.6c0,12.9,20,12.9,20,0c0-35.2,0-70.3,0-105.5    c0-56,0-112.1,0-168.1c0-12.9,0-25.7,0-38.6c0-5.4-4.6-10-10-10c-14.8,0-29.7,0-44.5,0c-35.4,0-70.9,0-106.3,0c-43,0-86,0-129.1,0    c-37.1,0-74.1,0-111.2,0c-18,0-36.2-0.7-54.2,0c-0.2,0-0.5,0-0.8,0c-5.4,0-10,4.6-10,10c0,35.2,0,70.3,0,105.5    c0,56,0,112.1,0,168.1c0,12.9,0,25.7,0,38.6c0,5.4,4.6,10,10,10c14.8,0,29.7,0,44.5,0c35.4,0,70.9,0,106.3,0c43,0,86,0,129.1,0    c37.1,0,74.1,0,111.2,0c18,0,36.2,0.7,54.2,0c0.2,0,0.5,0,0.8,0C485.9,416.1,485.9,396.1,473,396.1z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.107273, 0, 0, 0.107273, 15.087038, 74.622047)\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M155.9,94.2c0,35.2,0,70.5,0,105.7c0,55.8,0,111.6,0,167.3c0,12.9,0,25.8,0,38.6c0,12.9,20,12.9,20,0     c0-35.2,0-70.5,0-105.7c0-55.8,0-111.6,0-167.3c0-12.9,0-25.8,0-38.6C175.9,81.3,155.9,81.3,155.9,94.2L155.9,94.2z\"\n}))), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M324.1,94.2c0,35.2,0,70.5,0,105.7c0,55.8,0,111.6,0,167.3c0,12.9,0,25.8,0,38.6c0,12.9,20,12.9,20,0     c0-35.2,0-70.5,0-105.7c0-55.8,0-111.6,0-167.3c0-12.9,0-25.8,0-38.6C344.1,81.3,324.1,81.3,324.1,94.2L324.1,94.2z\"\n}))));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.107273, 0, 0, 0.107273, 15.087038, 74.622047)\"\n}, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.9,204.2c14.8,0,29.7,0,44.5,0c35.5,0,70.9,0,106.4,0c43,0,86.1,0,129.1,0c37.1,0,74.1,0,111.2,0     c18,0,36.2,0.7,54.3,0c0.2,0,0.5,0,0.8,0c12.9,0,12.9-20,0-20c-14.8,0-29.7,0-44.5,0c-35.5,0-70.9,0-106.4,0     c-43,0-86.1,0-129.1,0c-37.1,0-74.1,0-111.2,0c-18,0-36.2-0.7-54.3,0c-0.2,0-0.5,0-0.8,0C14,184.2,14,204.2,26.9,204.2     L26.9,204.2z\"\n}))), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.9,315.8c14.8,0,29.7,0,44.5,0c35.5,0,70.9,0,106.4,0c43,0,86.1,0,129.1,0c37.1,0,74.1,0,111.2,0     c18,0,36.2,0.7,54.3,0c0.2,0,0.5,0,0.8,0c12.9,0,12.9-20,0-20c-14.8,0-29.7,0-44.5,0c-35.5,0-70.9,0-106.4,0     c-43,0-86.1,0-129.1,0c-37.1,0-74.1,0-111.2,0c-18,0-36.2-0.7-54.3,0c-0.2,0-0.5,0-0.8,0C14,295.8,14,315.8,26.9,315.8     L26.9,315.8z\"\n}))));\n\nvar SvgTable = function SvgTable(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"16.9 83.589 50 35.703\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTable, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/table.8bfbd446.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.715837, 0, 0, 0.715837, 6.753703, 1.787101)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M68.653,6.45c-2.34,0-4.453,0.942-6.281,2.801c-8.976,9.128-8.718,40.104-8.659,43.605l0.043,2.537h12.317v30.738   c0,1.424,1.154,2.579,2.58,2.579c1.425,0,2.579-1.155,2.579-2.579V9.03C71.232,7.604,70.078,6.45,68.653,6.45z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44.075,30.065h-3.466V6.289h-3.41v23.776h-3.467V6.289h-3.409v23.776h-3.467V6.289h-3.089v23.75   c0,5.465,3.753,10.042,8.818,11.326l-2.478,43.988c0,1.854,3.85,3.357,5.358,3.357s5.357-1.503,5.357-3.357l-2.478-43.988   c5.065-1.285,8.818-5.861,8.818-11.326V6.289h-3.09V30.065z\"\n}));\n\nvar SvgFood = function SvgFood(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"23.767 6.289 33.977 59\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFood, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/food.233709b1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { StatusIndicator } from './ui';\nimport Map from './Map';\nimport Table from './Table';\nimport { NetworkStatus, ITruck } from './interfaces';\nimport { getTrucks } from './truckapi';\nimport { ReactComponent as MapIcon } from './icons/map.svg';\nimport { ReactComponent as TableIcon } from './icons/table.svg';\nimport { ReactComponent as FoodIcon } from './icons/food.svg';\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  position: relative;\n`;\nconst Header = styled.div`\n  position: fixed;\n  height: 85px;\n  left: 0;\n  top: 0;\n  right: 0;\n  z-index: 100;\n  background: hsl(211.4, 37.5%, 22%);\n  margin: 0 auto;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  border-bottom: 1px solid hsl(211.4, 37.5%, 12%);\n  h1 {\n    line-height: 35px;\n    color: white;\n    font-family: 'Yesteryear', sans-serif;\n    text-shadow: 0 0 3px rgba(0, 0, 0, 0.5);\n    font-size: 35px;\n    letter-spacing: 1px;\n    float: left;\n    position: relative;\n    bottom: 9px;\n    svg {\n      position: relative;\n      top: 7px;\n      fill: white;\n      margin: 0 20px;\n    }\n  }\n  div {\n    float: right;\n    padding: 26px;\n  }\n`;\nconst Button = styled.button`\n  appearance: none;\n  background: none;\n  border: none;\n  height: 35px;\n  svg {\n    fill: ${(props) => (props.disabled ? 'rgba(255,255,255,0.5)' : 'white')};\n    cursor: ${(props) => (props.disabled ? 'default' : 'pointer')};\n  }\n`;\nconst Main = styled.div`\n  margin-top: 85px;\n  height: calc(100vh - 85px);\n`;\nconst Footer = styled.small`\n  position: fixed;\n  bottom: 20px;\n  right: 0;\n  color: #282828;\n  z-index: 100;\n  padding: 2px 10px;\n  background: rgba(255, 255, 255, 0.5);\n  text-align: right;\n  font-size: 12px;\n  a {\n    color: #282828 !important;\n    font-weight: bold;\n    text-decoration: none;\n    &:hover {\n      color: black !important;\n      text-decoration: underline;\n    }\n  }\n`;\nconst sourceUrl =\n  'https://data.sfgov.org/Economy-and-Community/Mobile-Food-Facility-Permit/rqzj-sfat';\n\nfunction App() {\n  const [tab, setTab] = useState('map');\n  const [trucks, setTrucks] = useState<ITruck[]>([]);\n  const [status, setStatus] = useState<NetworkStatus>(NetworkStatus.EMPTY);\n  const isLoading = status === NetworkStatus.LOADING;\n  const isComplete = status === NetworkStatus.COMPLETE && trucks.length > 0;\n  const isError = status === NetworkStatus.ERROR;\n\n  useEffect(() => {\n    if (status === NetworkStatus.EMPTY) {\n      setStatus(NetworkStatus.LOADING);\n      getTrucks()\n        .then((trucks) => {\n          setStatus(NetworkStatus.COMPLETE);\n          setTrucks(trucks);\n        })\n        .catch(() => {\n          setStatus(NetworkStatus.ERROR);\n        });\n    }\n  }, [status]);\n  return (\n    <Wrapper>\n      <Header>\n        <h1>\n          <FoodIcon width=\"50\" height=\"40\" />\n          San Francisco Street Food\n        </h1>\n        <div>\n          <Button disabled={tab === 'map'} onClick={() => setTab('map')}>\n            <MapIcon width=\"40\" />\n          </Button>\n          <Button disabled={tab === 'table'} onClick={() => setTab('table')}>\n            <TableIcon width=\"40\" />\n          </Button>\n        </div>\n      </Header>\n      <Main>\n        {isLoading ? (\n          <StatusIndicator>\n            <p>Loading...</p>\n          </StatusIndicator>\n        ) : isError ? (\n          <StatusIndicator>\n            <p>Network Error</p>\n          </StatusIndicator>\n        ) : isComplete ? (\n          tab === 'map' ? (\n            <Map trucks={trucks} />\n          ) : (\n            <Table trucks={trucks} />\n          )\n        ) : (\n          <StatusIndicator>\n            <p>No Data</p>\n          </StatusIndicator>\n        )}\n      </Main>\n      <Footer style={tab === 'table' ? { bottom: 0 } : {}}>\n        Source: <a href={sourceUrl}>DataSF</a>\n      </Footer>\n    </Wrapper>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}